(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{704:(e,s,t)=>{"use strict";e.exports=t(7191)},982:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>x,Es:()=>u,HM:()=>d,L3:()=>p,c7:()=>h,lG:()=>i,rr:()=>g,zM:()=>c});var a=t(6874),r=t(9411),n=t(9980),l=t(9121);function i(e){let{...s}=e;return(0,a.jsx)(r.bL,{...s})}function c(e){let{...s}=e;return(0,a.jsx)(r.l9,{...s})}function o(e){let{...s}=e;return(0,a.jsx)(r.ZL,{...s})}function d(e){let{...s}=e;return(0,a.jsx)(r.bm,{...s})}function m(e){let{className:s,...t}=e;return(0,a.jsx)(r.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80",s),...t})}function x(e){let{className:s,children:t,...i}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.UC,{className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg sm:rounded-lg",s),...i,children:[t,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.hE,{className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...t})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(r.VY,{className:(0,l.cn)("text-sm text-muted-foreground",s),...t})}},1396:(e,s,t)=>{"use strict";t.d(s,{b:()=>b});var a=t(6874),r=t(4555),n=t(914),l=t(2925),i=t(4168),c=t(9121);function o(e){let{className:s,...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"radio-group",className:(0,c.cn)("grid gap-3",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(l.q7,{"data-slot":"radio-group-item",className:(0,c.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(l.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var m=t(3723),x=t(6850),h=t(2727),u=t(8269),p=t(1481),g=t(9980),f=t(7941),j=t(597),v=t(4131);let N=[{value:"internal+external",label:"Internal + External",description:"Photos can be used for both internal communications and external marketing",icon:h.A,color:"bg-green-100 text-green-800"},{value:"internal",label:"Internal Only",description:"Photos can only be used for internal communications",icon:u.A,color:"bg-yellow-100 text-yellow-800"},{value:"nowhere",label:"No Usage",description:"Photos should not be used anywhere",icon:p.A,color:"bg-red-100 text-red-800"}];function b(){let{user:e,updatePhotoPermission:s}=(0,f.A)(),t=(0,j.n_)(v.FH.users.updateUserPhotoPermission),[l,i]=(0,n.useState)({noAlcohol:!1,noAudio:!1,notProminently:!1,noSocialMedia:!1,noTiktok:!1,other:""});if(!e)return null;let c=a=>{t({id:e._id,photoPermission:a}),s(a)},h=N.find(s=>s.value===e.photoPermission),u=[{key:"noAlcohol",label:"No alcohol"},{key:"noAudio",label:"No audio"},{key:"notProminently",label:"Not prominently"},{key:"noSocialMedia",label:"No social media"},{key:"noTiktok",label:"No TikTok"}],p=u.filter(e=>{let{key:s}=e;return l[s]}),b=u.filter(e=>{let{key:s}=e;return!l[s]}),[y,w]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Current setting:"}),h&&(0,a.jsx)(m.E,{className:h.color,children:h.label})]}),(0,a.jsx)(o,{value:e.photoPermission,onValueChange:c,className:"space-y-0",children:N.map(e=>{let s=e.icon;return(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-4 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>c(e.value),children:[(0,a.jsx)(d,{value:e.value,id:e.value,className:"mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(r.J,{htmlFor:e.value,className:"flex items-center gap-2 font-medium cursor-pointer",children:[(0,a.jsx)(s,{className:"h-4 w-4"}),e.label]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]},e.value)})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-base font-semibold",children:"Additional preferences"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:0===p.length?(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"No additional preferences selected"}):p.map(e=>{let{key:s,label:t}=e;return(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 h-8 rounded-full px-3 text-sm select-none bg-primary text-primary-foreground shadow-xs","aria-label":"".concat(t," (enabled)"),children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("button",{type:"button",onClick:()=>i(e=>({...e,[s]:!1})),title:"Remove ".concat(t),"aria-label":"Remove ".concat(t),className:"ml-0.5 inline-grid place-items-center cursor-pointer rounded-full p-0.5 hover:bg-black/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:(0,a.jsx)(g.A,{className:"h-3.5 w-3.5 opacity-80","aria-hidden":"true"})})]},s)})}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(r.J,{htmlFor:"photo-prefs-other",children:"Other"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.p,{id:"photo-prefs-other",placeholder:"Type a note or pick more preferences",value:l.other,onFocus:()=>w(!0),onClick:()=>w(!0),onBlur:()=>setTimeout(()=>w(!1),120),onChange:e=>i(s=>({...s,other:e.target.value})),"aria-expanded":y,"aria-controls":"photo-prefs-suggestions",role:"combobox"}),y&&b.length>0&&(0,a.jsx)("div",{id:"photo-prefs-suggestions",role:"listbox",className:"absolute z-10 mt-1 w-full rounded-md border bg-background shadow-md",children:b.map(e=>{let{key:s,label:t}=e;return(0,a.jsx)("button",{type:"button",role:"option",onMouseDown:e=>e.preventDefault(),onClick:()=>{i(e=>({...e,[s]:!0})),w(!1)},className:"w-full text-left px-3 py-2 hover:bg-accent",children:t},s)})})]})]})]})]})}},2486:(e,s,t)=>{"use strict";t.d(s,{default:()=>ex});var a=t(6874),r=t(7941),n=t(9928),l=t(4562),i=t(1967),c=t.n(i),o=t(6936),d=t(914),m=t(9996),x=t(7351),h=t(1084),u=t(704);function p(){return()=>{}}var g="Avatar",[f,j]=function(e,s=[]){let t=[],r=()=>{let s=t.map(e=>d.createContext(e));return function(t){let a=t?.[e]||s;return d.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return r.scopeName=e,[function(s,r){let n=d.createContext(r);n.displayName=s+"Context";let l=t.length;t=[...t,r];let i=s=>{let{scope:t,children:r,...i}=s,c=t?.[e]?.[l]||n,o=d.useMemo(()=>i,Object.values(i));return(0,a.jsx)(c.Provider,{value:o,children:r})};return i.displayName=s+"Provider",[i,function(t,a){let i=a?.[e]?.[l]||n,c=d.useContext(i);if(c)return c;if(void 0!==r)return r;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((s,{useScope:t,scopeName:a})=>{let r=t(e)[`__scope${a}`];return{...s,...r}},{});return d.useMemo(()=>({[`__scope${s.scopeName}`]:a}),[a])}};return t.scopeName=s.scopeName,t}(r,...s)]}(g),[v,N]=f(g),b=d.forwardRef((e,s)=>{let{__scopeAvatar:t,...r}=e,[n,l]=d.useState("idle");return(0,a.jsx)(v,{scope:t,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,a.jsx)(h.sG.span,{...r,ref:s})})});b.displayName=g;var y="AvatarImage",w=d.forwardRef((e,s)=>{let{__scopeAvatar:t,src:r,onLoadingStatusChange:n=()=>{},...l}=e,i=N(y,t),c=function(e,s){let{referrerPolicy:t,crossOrigin:a}=s,r=(0,u.useSyncExternalStore)(p,()=>!0,()=>!1),n=d.useRef(null),l=r?(n.current||(n.current=new window.Image),n.current):null,[i,c]=d.useState(()=>_(l,e));return(0,x.N)(()=>{c(_(l,e))},[l,e]),(0,x.N)(()=>{let e=e=>()=>{c(e)};if(!l)return;let s=e("loaded"),r=e("error");return l.addEventListener("load",s),l.addEventListener("error",r),t&&(l.referrerPolicy=t),"string"==typeof a&&(l.crossOrigin=a),()=>{l.removeEventListener("load",s),l.removeEventListener("error",r)}},[l,a,t]),i}(r,l),o=(0,m.c)(e=>{n(e),i.onImageLoadingStatusChange(e)});return(0,x.N)(()=>{"idle"!==c&&o(c)},[c,o]),"loaded"===c?(0,a.jsx)(h.sG.img,{...l,ref:s,src:r}):null});w.displayName=y;var k="AvatarFallback",A=d.forwardRef((e,s)=>{let{__scopeAvatar:t,delayMs:r,...n}=e,l=N(k,t),[i,c]=d.useState(void 0===r);return d.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(e)}},[r]),i&&"loaded"!==l.imageLoadingStatus?(0,a.jsx)(h.sG.span,{...n,ref:s}):null});function _(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}A.displayName=k;var S=t(9121);function E(e){let{className:s,...t}=e;return(0,a.jsx)(b,{"data-slot":"avatar",className:(0,S.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...t})}function C(e){let{className:s,...t}=e;return(0,a.jsx)(w,{"data-slot":"avatar-image",className:(0,S.cn)("aspect-square size-full",s),...t})}function P(e){let{className:s,...t}=e;return(0,a.jsx)(A,{"data-slot":"avatar-fallback",className:(0,S.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...t})}var z=t(907);let M=(0,z.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),F=(0,z.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var L=t(2727),T=t(1396),U=t(3723);function D(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,S.cn)("animate-pulse rounded-md bg-muted",s),...t})}let B=(0,z.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),O=(0,z.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Z=(0,z.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),I=(0,z.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),R=(0,z.A)("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);var W=t(982);let $=(0,z.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function G(e){return e.name?"string"==typeof e.name?e.name:"object"==typeof e.name&&e.name.long?e.name.long:"Unnamed Activity":"Unnamed Activity"}function H(e){var s;if(e.description&&"string"==typeof e.description)return J(e.description);if(null===(s=e.body)||void 0===s?void 0:s.description){if("string"==typeof e.body.description)return J(e.body.description);if("object"==typeof e.body.description&&e.body.description.html)return J(e.body.description.html)}return"No description available"}function q(e){var s;return e.start_date?e.start_date:(null===(s=e.date)||void 0===s?void 0:s.start)?e.date.start:""}function J(e){return e?e.replace(/<[^>]*>/g,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").trim():""}function V(e){var s,t;let r,{activity:n,open:i,onOpenChange:c}=e;if(!n)return null;let o=G(n),d=H(n),m=q(n),x=n.end_date?n.end_date:(null===(s=n.date)||void 0===s?void 0:s.end)?n.date.end:"",h=n.image_url?n.image_url:(null===(t=n.body)||void 0===t?void 0:t.image)?n.body.image:null,u=e=>{if(!e)return"TBD";try{return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Invalid date"}},p=n.is_signup_open&&!n.is_full;return(0,a.jsx)(W.lG,{open:i,onOpenChange:c,children:(0,a.jsxs)(W.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(W.c7,{children:[(0,a.jsx)(W.L3,{className:"text-xl font-bold",children:o}),(0,a.jsxs)(W.rr,{className:"text-base",children:["Organized by ",n.organizer||"Unknown organizer"]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[h&&(0,a.jsx)("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:(0,a.jsx)("img",{src:h||"/placeholder.svg",alt:o,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/placeholder.svg?height=200&width=400&text=Activity+Image"}})}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O,{className:"h-4 w-4 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Start Date"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:u(m)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)($,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"End Date"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:u(x)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Location"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:n.location||"TBD"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(I,{className:"h-4 w-4 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Participants"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[n.current_participants||0,n.max_participants&&" / ".concat(n.max_participants)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(R,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Price"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:0===(r=n.price||0)?"Free":"€".concat(r.toFixed(2))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-1",children:"Category"}),(0,a.jsx)(U.E,{variant:"secondary",children:n.category||"General"})]})]})]}),n.signup_start&&n.signup_end&&(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Signup Period"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["From: ",u(n.signup_start)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Until: ",u(n.signup_end)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:d})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[n.is_signup_open?(0,a.jsx)(U.E,{className:"bg-green-100 text-green-800",children:"Signup Open"}):(0,a.jsx)(U.E,{className:"bg-gray-100 text-gray-800",children:"Signup Closed"}),n.is_full&&(0,a.jsx)(U.E,{className:"bg-red-100 text-red-800",children:"Full"}),0===(n.price||0)&&(0,a.jsx)(U.E,{className:"bg-accent text-primary",children:"Free Event"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,a.jsx)(l.$,{onClick:()=>{alert("Signing up for: ".concat(o))},disabled:!p,className:"flex-1",children:n.is_full?"Event Full":n.is_signup_open?"Sign Up":"Signup Closed"}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>c(!1),children:"Close"})]})]})]})})}function Y(){let{activities:e,loading:s,error:t}=function(){let[e,s]=(0,d.useState)([]),[t,a]=(0,d.useState)(!0),[r,n]=(0,d.useState)(null),l=async()=>{try{var e;a(!0);let t=await fetch("https://api2.sib-utrecht.nl/v2/events?count=50");if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();console.log("API Response:",r);let l=null===(e=r.data)||void 0===e?void 0:e.events;Array.isArray(l)||(console.warn("Unexpected API response structure:",r),l=[]),s(l),n(null)}catch(e){n(e instanceof Error?e.message:"Failed to fetch activities"),console.error("Error fetching activities:",e),s([])}finally{a(!1)}};return(0,d.useEffect)(()=>{l()},[]),{activities:e,loading:t,error:r,refetch:l}}(),[r,n]=(0,d.useState)(null),[l,i]=(0,d.useState)(!1),c=e=>{n(e),i(!0)},m=e=>{if(!e)return"TBD";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Invalid date"}},x=e=>0===e?"Free":"€".concat(e.toFixed(2)),h=Array.isArray(e)?e:[];return s?(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(B,{className:"h-5 w-5"}),"Upcoming Activities"]}),(0,a.jsx)(o.BT,{children:"Loading activities..."})]}),(0,a.jsx)(o.Wu,{className:"space-y-4",children:Array.from({length:8}).map((e,s)=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)(D,{className:"h-4 w-3/4 mb-2"}),(0,a.jsx)(D,{className:"h-3 w-1/2 mb-2"}),(0,a.jsx)(D,{className:"h-3 w-full"})]},s))})]}):t?(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(B,{className:"h-5 w-5"}),"Upcoming Activities"]}),(0,a.jsxs)(o.BT,{className:"text-red-600",children:["Failed to load activities: ",t]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Unable to fetch activities from the server. Please try again later."})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(B,{className:"h-5 w-5"}),"Upcoming Activities"]}),(0,a.jsxs)(o.BT,{children:["Discover and join activities organized by SIB Utrecht (",h.length," ","activities)"]})]}),(0,a.jsx)(o.Wu,{children:0===h.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No activities available at the moment."}):(0,a.jsx)("div",{className:"space-y-4",children:h.map(e=>{let s=G(e),t=H(e),r=q(e);return(0,a.jsxs)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>c(e),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm line-clamp-1 flex-1 mr-2",children:s}),(0,a.jsx)(U.E,{variant:e.is_signup_open?"default":"secondary",className:"shrink-0",children:e.is_signup_open?"Open":"Closed"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(O,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"truncate",children:m(r)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"truncate",children:e.location||"TBD"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(I,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[e.current_participants||0,e.max_participants&&"/".concat(e.max_participants)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(R,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:x(e.price||0)})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3 leading-relaxed",children:t}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(U.E,{variant:"outline",className:"text-xs",children:e.category||"General"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[e.is_full&&(0,a.jsx)(U.E,{className:"bg-red-100 text-red-800 text-xs",children:"Full"}),0===(e.price||0)&&(0,a.jsx)(U.E,{className:"bg-accent text-primary text-xs",children:"Free"})]})]})]},e.id)})})})]}),(0,a.jsx)(V,{activity:r,open:l,onOpenChange:i})]})}function X(){let{user:e,logout:s}=(0,r.A)();return e?(0,a.jsxs)("div",{className:"min-h-screen bg-[linear-gradient(180deg,#f0f7fb_0%,#ffffff_60%)]",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Member Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(E,{className:"h-8 w-8",children:[(0,a.jsx)(C,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(P,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,a.jsx)(l.$,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsx)(c(),{href:"/settings",children:"Preferences"})}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",onClick:s,children:[(0,a.jsx)(M,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-5",children:[(0,a.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(F,{className:"h-5 w-5"}),"Profile Information"]}),(0,a.jsx)(o.BT,{children:"Your account details"})]}),(0,a.jsx)(o.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(E,{className:"h-16 w-16",children:[(0,a.jsx)(C,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(P,{className:"text-lg",children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,a.jsx)("p",{className:"text-gray-600",children:e.email}),(0,a.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:e.role})]})]})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"h-5 w-5"}),"Photo Permissions"]}),(0,a.jsx)(o.BT,{children:"Control how your photos can be used by the organization"})]}),(0,a.jsx)(o.Wu,{className:"space-y-8",children:(0,a.jsx)(T.b,{})})]})]}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(Y,{})})]})})]}):null}function K(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,S.cn)("w-full caption-bottom text-sm",s),...t})})}function Q(e){let{className:s,...t}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,S.cn)("[&_tr]:border-b",s),...t})}function ee(e){let{className:s,...t}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,S.cn)("[&_tr:last-child]:border-0",s),...t})}function es(e){let{className:s,...t}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,S.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function et(e){let{className:s,...t}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,S.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function ea(e){let{className:s,...t}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,S.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}var er=t(8269),en=t(1481);let el=(0,z.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var ei=t(9980);let ec=[{id:"1",name:"John Doe",email:"john@example.com",role:"member",photoPermission:"internal+external",avatar:"/abstract-profile.png"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"admin",photoPermission:"internal",avatar:"/admin-interface.png"},{id:"3",name:"Mike Johnson",email:"mike@example.com",role:"member",photoPermission:"nowhere",avatar:"/community-member.png"},{id:"4",name:"Sarah Wilson",email:"sarah@example.com",role:"member",photoPermission:"internal+external",avatar:"/abstract-geometric-shapes.png"}],eo=e=>{switch(e){case"internal+external":return{label:"Internal + External",className:"bg-green-100 text-green-800",icon:L.A};case"internal":return{label:"Internal Only",className:"bg-yellow-100 text-yellow-800",icon:er.A};case"nowhere":return{label:"No Usage",className:"bg-red-100 text-red-800",icon:en.A}}};function ed(){let{user:e,logout:s}=(0,r.A)(),[t,n]=(0,d.useState)(new Set);if(!e||"admin"!==e.role)return null;ec.filter(e=>"member"===e.role);let i={"internal+external":ec.filter(e=>"internal+external"===e.photoPermission).length,internal:ec.filter(e=>"internal"===e.photoPermission).length,nowhere:ec.filter(e=>"nowhere"===e.photoPermission).length},c=0===t.size?ec:ec.filter(e=>t.has(e.photoPermission)),m=e=>{let s=new Set(t);s.has(e)?s.delete(e):s.add(e),n(s)},x=e=>t.has(e),h=t.size>0;return(0,a.jsxs)("div",{className:"min-h-screen bg-[linear-gradient(180deg,#f0f7fb_0%,#ffffff_60%)]",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-t-4 border-[#21526f]",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(E,{className:"h-8 w-8",children:[(0,a.jsx)(C,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(P,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,a.jsx)(U.E,{variant:"secondary",children:"Admin"})]}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",onClick:s,children:[(0,a.jsx)(M,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsx)(o.Zp,{className:"relative",children:(0,a.jsxs)(o.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(I,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Members"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:ec.length}),!h&&(0,a.jsx)("p",{className:"text-xs text-primary mt-1",children:"Showing all members"})]})}),(0,a.jsx)(o.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(x("internal+external")?"ring-2 ring-green-500 bg-green-50":""),onClick:()=>m("internal+external"),children:(0,a.jsxs)(o.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Full Permission"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:i["internal+external"]}),x("internal+external")&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)(el,{className:"h-3 w-3 text-green-600"}),(0,a.jsx)("p",{className:"text-xs text-green-600",children:"Active filter"})]})]})}),(0,a.jsx)(o.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(x("internal")?"ring-2 ring-yellow-500 bg-yellow-50":""),onClick:()=>m("internal"),children:(0,a.jsxs)(o.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(er.A,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Internal Only"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:i.internal}),x("internal")&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)(el,{className:"h-3 w-3 text-yellow-600"}),(0,a.jsx)("p",{className:"text-xs text-yellow-600",children:"Active filter"})]})]})}),(0,a.jsx)(o.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(x("nowhere")?"ring-2 ring-red-500 bg-red-50":""),onClick:()=>m("nowhere"),children:(0,a.jsxs)(o.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(en.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"No Usage"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:i.nowhere}),x("nowhere")&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)(el,{className:"h-3 w-3 text-red-600"}),(0,a.jsx)("p",{className:"text-xs text-red-600",children:"Active filter"})]})]})})]}),h&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-accent border border-accent/60 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Active filters:"}),Array.from(t).map(e=>{let s=eo(e),t=s.icon;return(0,a.jsxs)(U.E,{className:s.className,children:[(0,a.jsx)(t,{className:"h-3 w-3 mr-1"}),s.label]},e)}),(0,a.jsxs)(U.E,{variant:"outline",className:"ml-2",children:[c.length," member",1!==c.length?"s":""," shown"]})]}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{n(new Set)},children:[(0,a.jsx)(ei.A,{className:"h-4 w-4 mr-2"}),"Clear All Filters"]})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{children:["Member Photo Permissions",h&&(0,a.jsxs)("span",{className:"text-base font-normal text-gray-600 ml-2",children:["(",c.length," of ",ec.length," members)"]})]}),(0,a.jsx)(o.BT,{children:h?"Showing members with selected permission".concat(t.size>1?"s":""):"Overview of all member photo permission settings"})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsxs)(K,{children:[(0,a.jsx)(Q,{children:(0,a.jsxs)(es,{children:[(0,a.jsx)(et,{children:"Member"}),(0,a.jsx)(et,{children:"Email"}),(0,a.jsx)(et,{children:"Role"}),(0,a.jsx)(et,{children:"Photo Permission"})]})}),(0,a.jsx)(ee,{children:0===c.length?(0,a.jsx)(es,{children:(0,a.jsx)(ea,{colSpan:4,className:"text-center py-8 text-gray-500",children:"No members found with the selected permission settings."})}):c.map(e=>{let s=eo(e.photoPermission),r=s.icon,n=t.has(e.photoPermission);return(0,a.jsxs)(es,{className:n?"bg-accent":"",children:[(0,a.jsx)(ea,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(E,{className:"h-8 w-8",children:[(0,a.jsx)(C,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(P,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,a.jsx)(ea,{className:"text-gray-600",children:e.email}),(0,a.jsx)(ea,{children:(0,a.jsx)(U.E,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),(0,a.jsx)(ea,{children:(0,a.jsxs)(U.E,{className:s.className,children:[(0,a.jsx)(r,{className:"h-3 w-3 mr-1"}),s.label]})})]},e.id)})})]})})]})]})})]})}function em(){let{isAuthenticated:e,user:s}=(0,r.A)();return e?(null==s?void 0:s.role)==="admin"?(0,a.jsx)(ed,{}):(0,a.jsx)(X,{}):(0,a.jsx)(n.LoginForm,{})}function ex(){return(0,a.jsx)(em,{})}},3723:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var a=t(6874);t(914);var r=t(9583),n=t(7586),l=t(9121);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,asChild:n=!1,...c}=e,o=n?r.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,l.cn)(i({variant:t}),s),...c})}},7191:(e,s,t)=>{"use strict";var a=t(914),r="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},n=a.useState,l=a.useEffect,i=a.useLayoutEffect,c=a.useDebugValue;function o(e){var s=e.getSnapshot;e=e.value;try{var t=s();return!r(e,t)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var t=s(),a=n({inst:{value:t,getSnapshot:s}}),r=a[0].inst,d=a[1];return i(function(){r.value=t,r.getSnapshot=s,o(r)&&d({inst:r})},[e,t,s]),l(function(){return o(r)&&d({inst:r}),e(function(){o(r)&&d({inst:r})})},[e]),c(t),t};s.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},8539:(e,s,t)=>{Promise.resolve().then(t.bind(t,2486))}},e=>{var s=s=>e(e.s=s);e.O(0,[597,607,166,956,536,928,679,217,358],()=>s(8539)),_N_E=e.O()}]);