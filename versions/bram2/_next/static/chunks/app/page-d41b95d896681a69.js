(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{704:(e,s,a)=>{"use strict";e.exports=a(7191)},2486:(e,s,a)=>{"use strict";a.d(s,{default:()=>ex});var t=a(6874),r=a(7941),n=a(9928),l=a(4562),i=a(1967),c=a.n(i),d=a(6936),o=a(914),m=a(9996),x=a(7351),h=a(1084),p=a(704);function u(){return()=>{}}var g="Avatar",[j,f]=function(e,s=[]){let a=[],r=()=>{let s=a.map(e=>o.createContext(e));return function(a){let t=a?.[e]||s;return o.useMemo(()=>({[`__scope${e}`]:{...a,[e]:t}}),[a,t])}};return r.scopeName=e,[function(s,r){let n=o.createContext(r);n.displayName=s+"Context";let l=a.length;a=[...a,r];let i=s=>{let{scope:a,children:r,...i}=s,c=a?.[e]?.[l]||n,d=o.useMemo(()=>i,Object.values(i));return(0,t.jsx)(c.Provider,{value:d,children:r})};return i.displayName=s+"Provider",[i,function(a,t){let i=t?.[e]?.[l]||n,c=o.useContext(i);if(c)return c;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=a.reduce((s,{useScope:a,scopeName:t})=>{let r=a(e)[`__scope${t}`];return{...s,...r}},{});return o.useMemo(()=>({[`__scope${s.scopeName}`]:t}),[t])}};return a.scopeName=s.scopeName,a}(r,...s)]}(g),[v,N]=j(g),y=o.forwardRef((e,s)=>{let{__scopeAvatar:a,...r}=e,[n,l]=o.useState("idle");return(0,t.jsx)(v,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,t.jsx)(h.sG.span,{...r,ref:s})})});y.displayName=g;var b="AvatarImage",w=o.forwardRef((e,s)=>{let{__scopeAvatar:a,src:r,onLoadingStatusChange:n=()=>{},...l}=e,i=N(b,a),c=function(e,s){let{referrerPolicy:a,crossOrigin:t}=s,r=(0,p.useSyncExternalStore)(u,()=>!0,()=>!1),n=o.useRef(null),l=r?(n.current||(n.current=new window.Image),n.current):null,[i,c]=o.useState(()=>k(l,e));return(0,x.N)(()=>{c(k(l,e))},[l,e]),(0,x.N)(()=>{let e=e=>()=>{c(e)};if(!l)return;let s=e("loaded"),r=e("error");return l.addEventListener("load",s),l.addEventListener("error",r),a&&(l.referrerPolicy=a),"string"==typeof t&&(l.crossOrigin=t),()=>{l.removeEventListener("load",s),l.removeEventListener("error",r)}},[l,t,a]),i}(r,l),d=(0,m.c)(e=>{n(e),i.onImageLoadingStatusChange(e)});return(0,x.N)(()=>{"idle"!==c&&d(c)},[c,d]),"loaded"===c?(0,t.jsx)(h.sG.img,{...l,ref:s,src:r}):null});w.displayName=b;var _="AvatarFallback",S=o.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:r,...n}=e,l=N(_,a),[i,c]=o.useState(void 0===r);return o.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(e)}},[r]),i&&"loaded"!==l.imageLoadingStatus?(0,t.jsx)(h.sG.span,{...n,ref:s}):null});function k(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}S.displayName=_;var A=a(9121);function E(e){let{className:s,...a}=e;return(0,t.jsx)(y,{"data-slot":"avatar",className:(0,A.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function P(e){let{className:s,...a}=e;return(0,t.jsx)(w,{"data-slot":"avatar-image",className:(0,A.cn)("aspect-square size-full",s),...a})}function C(e){let{className:s,...a}=e;return(0,t.jsx)(S,{"data-slot":"avatar-fallback",className:(0,A.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}var M=a(907);let F=(0,M.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),L=(0,M.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var z=a(2727),B=a(1396),I=a(3723);function U(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,A.cn)("animate-pulse rounded-md bg-muted",s),...a})}let D=(0,M.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),T=(0,M.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Z=(0,M.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),O=(0,M.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),R=(0,M.A)("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);var W=a(982);let $=(0,M.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function q(e){return e.name?"string"==typeof e.name?e.name:"object"==typeof e.name&&e.name.long?e.name.long:"Unnamed Activity":"Unnamed Activity"}function G(e){var s;if(e.description&&"string"==typeof e.description)return J(e.description);if(null===(s=e.body)||void 0===s?void 0:s.description){if("string"==typeof e.body.description)return J(e.body.description);if("object"==typeof e.body.description&&e.body.description.html)return J(e.body.description.html)}return"No description available"}function H(e){var s;return e.start_date?e.start_date:(null===(s=e.date)||void 0===s?void 0:s.start)?e.date.start:""}function J(e){return e?e.replace(/<[^>]*>/g,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").trim():""}function V(e){var s,a;let r,{activity:n,open:i,onOpenChange:c}=e;if(!n)return null;let d=q(n),o=G(n),m=H(n),x=n.end_date?n.end_date:(null===(s=n.date)||void 0===s?void 0:s.end)?n.date.end:"",h=n.image_url?n.image_url:(null===(a=n.body)||void 0===a?void 0:a.image)?n.body.image:null,p=e=>{if(!e)return"TBD";try{return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Invalid date"}},u=n.is_signup_open&&!n.is_full;return(0,t.jsx)(W.lG,{open:i,onOpenChange:c,children:(0,t.jsxs)(W.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(W.c7,{children:[(0,t.jsx)(W.L3,{className:"text-xl font-bold",children:d}),(0,t.jsxs)(W.rr,{className:"text-base",children:["Organized by ",n.organizer||"Unknown organizer"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[h&&(0,t.jsx)("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:(0,t.jsx)("img",{src:h||"/placeholder.svg",alt:d,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/placeholder.svg?height=200&width=400&text=Activity+Image"}})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(T,{className:"h-4 w-4 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Start Date"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:p(m)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)($,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"End Date"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:p(x)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z,{className:"h-4 w-4 text-red-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Location"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:n.location||"TBD"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(O,{className:"h-4 w-4 text-purple-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Participants"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[n.current_participants||0,n.max_participants&&" / ".concat(n.max_participants)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(R,{className:"h-4 w-4 text-yellow-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Price"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:0===(r=n.price||0)?"Free":"€".concat(r.toFixed(2))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:"Category"}),(0,t.jsx)(I.E,{variant:"secondary",children:n.category||"General"})]})]})]}),n.signup_start&&n.signup_end&&(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Signup Period"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["From: ",p(n.signup_start)]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Until: ",p(n.signup_end)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Description"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:o})]}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[n.is_signup_open?(0,t.jsx)(I.E,{className:"bg-green-100 text-green-800",children:"Signup Open"}):(0,t.jsx)(I.E,{className:"bg-gray-100 text-gray-800",children:"Signup Closed"}),n.is_full&&(0,t.jsx)(I.E,{className:"bg-red-100 text-red-800",children:"Full"}),0===(n.price||0)&&(0,t.jsx)(I.E,{className:"bg-accent text-primary",children:"Free Event"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)(l.$,{onClick:()=>{alert("Signing up for: ".concat(d))},disabled:!u,className:"flex-1",children:n.is_full?"Event Full":n.is_signup_open?"Sign Up":"Signup Closed"}),(0,t.jsx)(l.$,{variant:"outline",onClick:()=>c(!1),children:"Close"})]})]})]})})}function Y(){let{activities:e,loading:s,error:a}=function(){let[e,s]=(0,o.useState)([]),[a,t]=(0,o.useState)(!0),[r,n]=(0,o.useState)(null),l=async()=>{try{var e;t(!0);let a=await fetch("https://api2.sib-utrecht.nl/v2/events?count=50");if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let r=await a.json();console.log("API Response:",r);let l=null===(e=r.data)||void 0===e?void 0:e.events;Array.isArray(l)||(console.warn("Unexpected API response structure:",r),l=[]),s(l),n(null)}catch(e){n(e instanceof Error?e.message:"Failed to fetch activities"),console.error("Error fetching activities:",e),s([])}finally{t(!1)}};return(0,o.useEffect)(()=>{l()},[]),{activities:e,loading:a,error:r,refetch:l}}(),[r,n]=(0,o.useState)(null),[l,i]=(0,o.useState)(!1),c=e=>{n(e),i(!0)},m=e=>{if(!e)return"TBD";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Invalid date"}},x=e=>0===e?"Free":"€".concat(e.toFixed(2)),h=Array.isArray(e)?e:[];return s?(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(D,{className:"h-5 w-5"}),"Upcoming Activities"]}),(0,t.jsx)(d.BT,{children:"Loading activities..."})]}),(0,t.jsx)(d.Wu,{className:"space-y-4",children:Array.from({length:8}).map((e,s)=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(U,{className:"h-4 w-3/4 mb-2"}),(0,t.jsx)(U,{className:"h-3 w-1/2 mb-2"}),(0,t.jsx)(U,{className:"h-3 w-full"})]},s))})]}):a?(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(D,{className:"h-5 w-5"}),"Upcoming Activities"]}),(0,t.jsxs)(d.BT,{className:"text-red-600",children:["Failed to load activities: ",a]})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Unable to fetch activities from the server. Please try again later."})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(D,{className:"h-5 w-5"}),"Upcoming Activities"]}),(0,t.jsxs)(d.BT,{children:["Discover and join activities organized by SIB Utrecht (",h.length," activities)"]})]}),(0,t.jsx)(d.Wu,{children:0===h.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No activities available at the moment."}):(0,t.jsx)("div",{className:"space-y-4",children:h.map(e=>{let s=q(e),a=G(e),r=H(e);return(0,t.jsxs)("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>c(e),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-sm line-clamp-1 flex-1 mr-2",children:s}),(0,t.jsx)(I.E,{variant:e.is_signup_open?"default":"secondary",className:"shrink-0",children:e.is_signup_open?"Open":"Closed"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(T,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"truncate",children:m(r)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"truncate",children:e.location||"TBD"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(O,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:[e.current_participants||0,e.max_participants&&"/".concat(e.max_participants)]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(R,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:x(e.price||0)})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3 leading-relaxed",children:a}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(I.E,{variant:"outline",className:"text-xs",children:e.category||"General"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[e.is_full&&(0,t.jsx)(I.E,{className:"bg-red-100 text-red-800 text-xs",children:"Full"}),0===(e.price||0)&&(0,t.jsx)(I.E,{className:"bg-accent text-primary text-xs",children:"Free"})]})]})]},e.id)})})})]}),(0,t.jsx)(V,{activity:r,open:l,onOpenChange:i})]})}function K(){let{user:e,logout:s}=(0,r.A)();return e?(0,t.jsxs)("div",{className:"min-h-screen bg-[linear-gradient(180deg,#f0f7fb_0%,#ffffff_60%)]",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Member Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(E,{className:"h-8 w-8",children:[(0,t.jsx)(P,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,t.jsx)(C,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,t.jsx)(l.$,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(c(),{href:"/settings",children:"Preferences"})}),(0,t.jsxs)(l.$,{variant:"outline",size:"sm",onClick:s,children:[(0,t.jsx)(F,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-5",children:[(0,t.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(L,{className:"h-5 w-5"}),"Profile Information"]}),(0,t.jsx)(d.BT,{children:"Your account details"})]}),(0,t.jsx)(d.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(E,{className:"h-16 w-16",children:[(0,t.jsx)(P,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,t.jsx)(C,{className:"text-lg",children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600",children:e.email}),(0,t.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:e.role})]})]})})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(z.A,{className:"h-5 w-5"}),"Photo Permissions"]}),(0,t.jsx)(d.BT,{children:"Control how your photos can be used by the organization"})]}),(0,t.jsx)(d.Wu,{className:"space-y-8",children:(0,t.jsx)(B.b,{})})]})]}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(Y,{})})]})})]}):null}function Q(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,A.cn)("w-full caption-bottom text-sm",s),...a})})}function X(e){let{className:s,...a}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,A.cn)("[&_tr]:border-b",s),...a})}function ee(e){let{className:s,...a}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,A.cn)("[&_tr:last-child]:border-0",s),...a})}function es(e){let{className:s,...a}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,A.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...a})}function ea(e){let{className:s,...a}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,A.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function et(e){let{className:s,...a}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,A.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}var er=a(8269),en=a(1481);let el=(0,M.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var ei=a(9980);let ec=[{id:"1",name:"John Doe",email:"john@example.com",role:"member",photoPermission:"internal+external",avatar:"/abstract-profile.png"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"admin",photoPermission:"internal",avatar:"/admin-interface.png"},{id:"3",name:"Mike Johnson",email:"mike@example.com",role:"member",photoPermission:"nowhere",avatar:"/community-member.png"},{id:"4",name:"Sarah Wilson",email:"sarah@example.com",role:"member",photoPermission:"internal+external",avatar:"/abstract-geometric-shapes.png"}],ed=e=>{switch(e){case"internal+external":return{label:"Internal + External",className:"bg-green-100 text-green-800",icon:z.A};case"internal":return{label:"Internal Only",className:"bg-yellow-100 text-yellow-800",icon:er.A};case"nowhere":return{label:"No Usage",className:"bg-red-100 text-red-800",icon:en.A}}};function eo(){let{user:e,logout:s}=(0,r.A)(),[a,n]=(0,o.useState)(new Set);if(!e||"admin"!==e.role)return null;ec.filter(e=>"member"===e.role);let i={"internal+external":ec.filter(e=>"internal+external"===e.photoPermission).length,internal:ec.filter(e=>"internal"===e.photoPermission).length,nowhere:ec.filter(e=>"nowhere"===e.photoPermission).length},c=0===a.size?ec:ec.filter(e=>a.has(e.photoPermission)),m=e=>{let s=new Set(a);s.has(e)?s.delete(e):s.add(e),n(s)},x=e=>a.has(e),h=a.size>0;return(0,t.jsxs)("div",{className:"min-h-screen bg-[linear-gradient(180deg,#f0f7fb_0%,#ffffff_60%)]",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b border-t-4 border-[#21526f]",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(E,{className:"h-8 w-8",children:[(0,t.jsx)(P,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,t.jsx)(C,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,t.jsx)(I.E,{variant:"secondary",children:"Admin"})]}),(0,t.jsxs)(l.$,{variant:"outline",size:"sm",onClick:s,children:[(0,t.jsx)(F,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsx)(d.Zp,{className:"relative",children:(0,t.jsxs)(d.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(O,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Members"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:ec.length}),!h&&(0,t.jsx)("p",{className:"text-xs text-primary mt-1",children:"Showing all members"})]})}),(0,t.jsx)(d.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(x("internal+external")?"ring-2 ring-green-500 bg-green-50":""),onClick:()=>m("internal+external"),children:(0,t.jsxs)(d.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Full Permission"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:i["internal+external"]}),x("internal+external")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)(el,{className:"h-3 w-3 text-green-600"}),(0,t.jsx)("p",{className:"text-xs text-green-600",children:"Active filter"})]})]})}),(0,t.jsx)(d.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(x("internal")?"ring-2 ring-yellow-500 bg-yellow-50":""),onClick:()=>m("internal"),children:(0,t.jsxs)(d.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"h-4 w-4 text-yellow-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Internal Only"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:i.internal}),x("internal")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)(el,{className:"h-3 w-3 text-yellow-600"}),(0,t.jsx)("p",{className:"text-xs text-yellow-600",children:"Active filter"})]})]})}),(0,t.jsx)(d.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(x("nowhere")?"ring-2 ring-red-500 bg-red-50":""),onClick:()=>m("nowhere"),children:(0,t.jsxs)(d.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(en.A,{className:"h-4 w-4 text-red-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"No Usage"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:i.nowhere}),x("nowhere")&&(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,t.jsx)(el,{className:"h-3 w-3 text-red-600"}),(0,t.jsx)("p",{className:"text-xs text-red-600",children:"Active filter"})]})]})})]}),h&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-accent border border-accent/60 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Active filters:"}),Array.from(a).map(e=>{let s=ed(e),a=s.icon;return(0,t.jsxs)(I.E,{className:s.className,children:[(0,t.jsx)(a,{className:"h-3 w-3 mr-1"}),s.label]},e)}),(0,t.jsxs)(I.E,{variant:"outline",className:"ml-2",children:[c.length," member",1!==c.length?"s":""," shown"]})]}),(0,t.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{n(new Set)},children:[(0,t.jsx)(ei.A,{className:"h-4 w-4 mr-2"}),"Clear All Filters"]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsxs)(d.ZB,{children:["Member Photo Permissions",h&&(0,t.jsxs)("span",{className:"text-base font-normal text-gray-600 ml-2",children:["(",c.length," of ",ec.length," members)"]})]}),(0,t.jsx)(d.BT,{children:h?"Showing members with selected permission".concat(a.size>1?"s":""):"Overview of all member photo permission settings"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)(Q,{children:[(0,t.jsx)(X,{children:(0,t.jsxs)(es,{children:[(0,t.jsx)(ea,{children:"Member"}),(0,t.jsx)(ea,{children:"Email"}),(0,t.jsx)(ea,{children:"Role"}),(0,t.jsx)(ea,{children:"Photo Permission"})]})}),(0,t.jsx)(ee,{children:0===c.length?(0,t.jsx)(es,{children:(0,t.jsx)(et,{colSpan:4,className:"text-center py-8 text-gray-500",children:"No members found with the selected permission settings."})}):c.map(e=>{let s=ed(e.photoPermission),r=s.icon,n=a.has(e.photoPermission);return(0,t.jsxs)(es,{className:n?"bg-accent":"",children:[(0,t.jsx)(et,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(E,{className:"h-8 w-8",children:[(0,t.jsx)(P,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,t.jsx)(C,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,t.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,t.jsx)(et,{className:"text-gray-600",children:e.email}),(0,t.jsx)(et,{children:(0,t.jsx)(I.E,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),(0,t.jsx)(et,{children:(0,t.jsxs)(I.E,{className:s.className,children:[(0,t.jsx)(r,{className:"h-3 w-3 mr-1"}),s.label]})})]},e.id)})})]})})]})]})})]})}function em(){let{isAuthenticated:e,user:s}=(0,r.A)();return e?(null==s?void 0:s.role)==="admin"?(0,t.jsx)(eo,{}):(0,t.jsx)(K,{}):(0,t.jsx)(n.LoginForm,{})}function ex(){return(0,t.jsx)(em,{})}},7191:(e,s,a)=>{"use strict";var t=a(914),r="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},n=t.useState,l=t.useEffect,i=t.useLayoutEffect,c=t.useDebugValue;function d(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!r(e,a)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var a=s(),t=n({inst:{value:a,getSnapshot:s}}),r=t[0].inst,o=t[1];return i(function(){r.value=a,r.getSnapshot=s,d(r)&&o({inst:r})},[e,a,s]),l(function(){return d(r)&&o({inst:r}),e(function(){d(r)&&o({inst:r})})},[e]),c(a),a};s.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:o},8539:(e,s,a)=>{Promise.resolve().then(a.bind(a,2486))},9928:(e,s,a)=>{"use strict";a.d(s,{LoginForm:()=>f});var t=a(6874),r=a(914),n=a(4562),l=a(6936),i=a(6850),c=a(4555),d=a(7586),o=a(9121);let m=(0,d.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function x(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,o.cn)(m({variant:a}),s),...r})}function h(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,o.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}var p=a(7941),u=a(8032),g=a(597),j=a(4131);function f(){let e=(0,u.useRouter)(),s=(0,u.useSearchParams)(),a=(0,r.useMemo)(()=>s.get("redirect_uri")||"/",[s]),[d,o]=(0,r.useState)(""),[m,f]=(0,r.useState)(""),[v,N]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[w,_]=(0,r.useState)(!1),{login:S,isAuthenticated:k}=(0,p.A)(),A=(0,g.IT)(j.FH.users.getUsers),E=async s=>{if(s.preventDefault(),b(!0),N(""),!A){N("User data is not available. Please try again later."),b(!1);return}await S(A,d,m)?e.replace(a):N("Invalid email or password"),b(!1)};return(0,r.useEffect)(()=>{try{let e=localStorage.getItem("rememberMe");null!==e&&_("true"===e)}catch(e){}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem("rememberMe",String(w))}catch(e){}},[w]),(0,t.jsxs)("div",{className:"min-h-screen relative flex items-center justify-center overflow-hidden",style:{"--primary":"#21526f","--primary-foreground":"#ffffff","--ring":"#21526f"},children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(1200px_600px_at_10%_-10%,#6fb0cd33,transparent_60%),radial-gradient(800px_400px_at_90%_110%,#21526f22,transparent_60%),linear-gradient(135deg,#eaf5fb_0%,#d7eef8_25%,#c9e7f3_40%,#bfe0ee_55%,#a9d3e6_70%,#8fc2da_85%,#78b3cf_100%)] dark:bg-[radial-gradient(1200px_600px_at_10%_-10%,#6fb0cd22,transparent_60%),radial-gradient(800px_400px_at_90%_110%,#21526f33,transparent_60%),linear-gradient(135deg,#0b1216_0%,#102029_30%,#153544_70%,#1a4a61_100%)]"}),(0,t.jsxs)(l.Zp,{className:"w-full max-w-md backdrop-blur-[2px] bg-card/90 border-[#21526f]/20 shadow-lg shadow-[#21526f]/10",children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-2 flex h-20 w-20 items-center justify-center",children:(0,t.jsx)("img",{src:"https://sib-utrecht.nl/wp-content/uploads/2025/04/Logo-44e-v3_512x512-150x150.png",alt:"SIB Utrecht Logo",className:"h-full w-full object-contain"})}),(0,t.jsx)(l.ZB,{className:"text-2xl font-semibold tracking-tight",children:(0,t.jsx)("span",{className:"bg-gradient-to-r from-[#21526f] via-[#2a6a88] to-[#58a6c7] bg-clip-text text-transparent",children:"Member Login"})}),(0,t.jsx)(l.BT,{className:"text-sm",children:"Sign in to manage your photo permissions"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(i.p,{id:"email",type:"email",value:d,onChange:e=>o(e.target.value),placeholder:"Enter your email",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(i.p,{id:"password",type:"password",value:m,onChange:e=>f(e.target.value),placeholder:"Enter your password",required:!0})]}),v&&(0,t.jsx)(x,{variant:"destructive",children:(0,t.jsx)(h,{children:v})}),(0,t.jsx)(n.$,{type:"submit",className:"w-full shadow-md shadow-[#21526f]/20 hover:shadow-[#21526f]/30",disabled:y,children:y?"Signing in...":"Sign In"})]}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Demo credentials:"})}),null==A?void 0:A.map(e=>{let{email:s,password:a,name:r}=e;return(0,t.jsxs)("p",{children:[r,": ",s," / ",a]},s)})]})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[597,873,166,403,941,679,217,358],()=>s(8539)),_N_E=e.O()}]);