(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{704:(e,t,r)=>{"use strict";e.exports=r(7191)},1048:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(907).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1084:(e,t,r)=>{"use strict";r.d(t,{sG:()=>l});var s=r(914);r(8735);var a=r(9583),n=r(6874),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.TL)(`Primitive.${t}`),l=s.forwardRef((e,s)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(a?r:t,{...l,ref:s})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{})},1231:(e,t,r)=>{Promise.resolve().then(r.bind(r,5989))},1481:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(907).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},1719:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(907).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},2727:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(907).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},2974:(e,t,r)=>{"use strict";r.d(t,{eu:()=>y,q5:()=>k,BK:()=>w});var s=r(6874),a=r(914),n=r(9996),l=r(7351),i=r(1084),c=r(704);function o(){return()=>{}}var d="Avatar",[m,x]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(t,n){let l=a.createContext(n);l.displayName=t+"Context";let i=r.length;r=[...r,n];let c=t=>{let{scope:r,children:n,...c}=t,o=r?.[e]?.[i]||l,d=a.useMemo(()=>c,Object.values(c));return(0,s.jsx)(o.Provider,{value:d,children:n})};return c.displayName=t+"Provider",[c,function(r,s){let c=s?.[e]?.[i]||l,o=a.useContext(c);if(o)return o;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...t)]}(d),[u,h]=m(d),f=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...n}=e,[l,c]=a.useState("idle");return(0,s.jsx)(u,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:c,children:(0,s.jsx)(i.sG.span,{...n,ref:t})})});f.displayName=d;var p="AvatarImage",g=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:d,onLoadingStatusChange:m=()=>{},...x}=e,u=h(p,r),f=function(e,t){let{referrerPolicy:r,crossOrigin:s}=t,n=(0,c.useSyncExternalStore)(o,()=>!0,()=>!1),i=a.useRef(null),d=n?(i.current||(i.current=new window.Image),i.current):null,[m,x]=a.useState(()=>N(d,e));return(0,l.N)(()=>{x(N(d,e))},[d,e]),(0,l.N)(()=>{let e=e=>()=>{x(e)};if(!d)return;let t=e("loaded"),a=e("error");return d.addEventListener("load",t),d.addEventListener("error",a),r&&(d.referrerPolicy=r),"string"==typeof s&&(d.crossOrigin=s),()=>{d.removeEventListener("load",t),d.removeEventListener("error",a)}},[d,s,r]),m}(d,x),g=(0,n.c)(e=>{m(e),u.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==f&&g(f)},[f,g]),"loaded"===f?(0,s.jsx)(i.sG.img,{...x,ref:t,src:d}):null});g.displayName=p;var v="AvatarFallback",j=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:n,...l}=e,c=h(v,r),[o,d]=a.useState(void 0===n);return a.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(e)}},[n]),o&&"loaded"!==c.imageLoadingStatus?(0,s.jsx)(i.sG.span,{...l,ref:t}):null});function N(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=v;var b=r(9121);function y(e){let{className:t,...r}=e;return(0,s.jsx)(f,{"data-slot":"avatar",className:(0,b.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function w(e){let{className:t,...r}=e;return(0,s.jsx)(g,{"data-slot":"avatar-image",className:(0,b.cn)("aspect-square size-full",t),...r})}function k(e){let{className:t,...r}=e;return(0,s.jsx)(j,{"data-slot":"avatar-fallback",className:(0,b.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},3723:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var s=r(6874);r(914);var a=r(9583),n=r(7586),l=r(9121);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,asChild:n=!1,...c}=e,o=n?a.DX:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,l.cn)(i({variant:r}),t),...c})}},4131:(e,t,r)=>{"use strict";r.d(t,{FH:()=>a});var s=r(4048);let a=s.dp;(0,s.Op)()},5853:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var s=r(6874),a=r(914),n=r(7941),l=r(8032);function i(e){let{children:t}=e,{isAuthenticated:r,isLoading:i}=(0,n.A)(),c=(0,l.useRouter)(),o=(0,l.usePathname)();return((0,a.useEffect)(()=>{if(!i&&!r){let e=new URL("/login",window.location.origin);e.searchParams.set("redirect_uri",o||"/"),c.replace(e.pathname+e.search)}},[r,o,c,i]),i)?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"Loading..."})}):r?(0,s.jsx)(s.Fragment,{children:t}):null}},5989:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var s=r(6874),a=r(914),n=r(8032),l=r(7941),i=r(4562),c=r(6936),o=r(2974),d=r(3723),m=r(9121);function x(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,m.cn)("w-full caption-bottom text-sm",t),...r})})}function u(e){let{className:t,...r}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,m.cn)("[&_tr]:border-b",t),...r})}function h(e){let{className:t,...r}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,m.cn)("[&_tr:last-child]:border-0",t),...r})}function f(e){let{className:t,...r}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,m.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function p(e){let{className:t,...r}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,m.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function g(e){let{className:t,...r}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,m.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}var v=r(2727),j=r(8269),N=r(1481),b=r(1719),y=r(1048);let w=(0,r(907).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var k=r(9980),A=r(597),S=r(4131);let E=[{_id:"1",name:"John Doe",email:"john@example.com",role:"member",photoPermission:"internal+external"},{_id:"2",name:"Jane Smith",email:"jane@example.com",role:"admin",photoPermission:"internal"},{_id:"3",name:"Mike Johnson",email:"mike@example.com",role:"member",photoPermission:"nowhere"},{_id:"4",name:"Sarah Wilson",email:"sarah@example.com",role:"member",photoPermission:"internal+external"}],P=e=>{switch(e){case"internal+external":return{label:"Internal + External",className:"bg-green-100 text-green-800",icon:v.A};case"internal":return{label:"Internal Only",className:"bg-yellow-100 text-yellow-800",icon:j.A};case"nowhere":return{label:"No Usage",className:"bg-red-100 text-red-800",icon:N.A}}};function _(){let{logout:e,isAdmin:t}=(0,l.A)(),r=(0,n.useRouter)(),[m,_]=(0,a.useState)(new Set),M=(0,A.IT)(S.FH.users.getProfile),C=null!=M?M:{name:"Admin",email:"",avatar:null};if(!t)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Access Denied"});let L={"internal+external":E.filter(e=>"internal+external"===e.photoPermission).length,internal:E.filter(e=>"internal"===e.photoPermission).length,nowhere:E.filter(e=>"nowhere"===e.photoPermission).length},z=0===m.size?E:E.filter(e=>m.has(e.photoPermission)),O=e=>{let t=new Set(m);t.has(e)?t.delete(e):t.add(e),_(t)},R=e=>m.has(e),F=m.size>0;return(0,s.jsxs)("div",{className:"min-h-screen bg-[linear-gradient(180deg,#f0f7fb_0%,#ffffff_60%)]",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b border-t-4 border-[#21526f]",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(o.eu,{className:"h-8 w-8",children:[(0,s.jsx)(o.BK,{src:C.avatar||"/placeholder.svg",alt:C.name}),(0,s.jsx)(o.q5,{children:C.name.split(" ").map(e=>e[0]).join("")})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:C.name}),(0,s.jsx)(d.E,{variant:"secondary",children:"Admin"})]}),(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{e(),r.replace("/")},children:[(0,s.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsx)(c.Zp,{className:"relative",children:(0,s.jsxs)(c.Wu,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.A,{className:"h-4 w-4 text-primary"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Members"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:E.length}),!F&&(0,s.jsx)("p",{className:"text-xs text-primary mt-1",children:"Showing all members"})]})}),(0,s.jsx)(c.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(R("internal+external")?"ring-2 ring-green-500 bg-green-50":""),onClick:()=>O("internal+external"),children:(0,s.jsxs)(c.Wu,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Full Permission"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:L["internal+external"]}),R("internal+external")&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(w,{className:"h-3 w-3 text-green-600"}),(0,s.jsx)("p",{className:"text-xs text-green-600",children:"Active filter"})]})]})}),(0,s.jsx)(c.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(R("internal")?"ring-2 ring-yellow-500 bg-yellow-50":""),onClick:()=>O("internal"),children:(0,s.jsxs)(c.Wu,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"h-4 w-4 text-yellow-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Internal Only"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:L.internal}),R("internal")&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(w,{className:"h-3 w-3 text-yellow-600"}),(0,s.jsx)("p",{className:"text-xs text-yellow-600",children:"Active filter"})]})]})}),(0,s.jsx)(c.Zp,{className:"cursor-pointer transition-all hover:shadow-md relative ".concat(R("nowhere")?"ring-2 ring-red-500 bg-red-50":""),onClick:()=>O("nowhere"),children:(0,s.jsxs)(c.Wu,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.A,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"No Usage"})]}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:L.nowhere}),R("nowhere")&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(w,{className:"h-3 w-3 text-red-600"}),(0,s.jsx)("p",{className:"text-xs text-red-600",children:"Active filter"})]})]})})]}),F&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-accent border border-accent/60 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Active filters:"}),Array.from(m).map(e=>{let t=P(e),r=t.icon;return(0,s.jsxs)(d.E,{className:t.className,children:[(0,s.jsx)(r,{className:"h-3 w-3 mr-1"}),t.label]},e)}),(0,s.jsxs)(d.E,{variant:"outline",className:"ml-2",children:[z.length," member",1!==z.length?"s":""," shown"]})]}),(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{_(new Set)},children:[(0,s.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Clear All Filters"]})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsxs)(c.ZB,{children:["Member Photo Permissions",F&&(0,s.jsxs)("span",{className:"text-base font-normal text-gray-600 ml-2",children:["(",z.length," of ",E.length," members)"]})]}),(0,s.jsx)(c.BT,{children:F?"Showing members with selected permission".concat(m.size>1?"s":""):"Overview of all member photo permission settings"})]}),(0,s.jsx)(c.Wu,{children:(0,s.jsxs)(x,{children:[(0,s.jsx)(u,{children:(0,s.jsxs)(f,{children:[(0,s.jsx)(p,{children:"Member"}),(0,s.jsx)(p,{children:"Email"}),(0,s.jsx)(p,{children:"Role"}),(0,s.jsx)(p,{children:"Photo Permission"})]})}),(0,s.jsx)(h,{children:0===z.length?(0,s.jsx)(f,{children:(0,s.jsx)(g,{colSpan:4,className:"text-center py-8 text-gray-500",children:"No members found with the selected permission settings."})}):z.map(e=>{let t=P(e.photoPermission),r=t.icon,a=m.has(e.photoPermission);return(0,s.jsxs)(f,{className:a?"bg-accent":"",children:[(0,s.jsx)(g,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(o.eu,{className:"h-8 w-8",children:[(0,s.jsx)(o.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,s.jsx)(o.q5,{children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,s.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,s.jsx)(g,{className:"text-gray-600",children:e.email}),(0,s.jsx)(g,{children:(0,s.jsx)(d.E,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),(0,s.jsx)(g,{children:(0,s.jsxs)(d.E,{className:t.className,children:[(0,s.jsx)(r,{className:"h-3 w-3 mr-1"}),t.label]})})]},e._id)})})]})})]})]})})]})}var M=r(5853);function C(e){let{children:t}=e,{isAdmin:r,isLoading:i}=(0,l.A)(),c=(0,n.useRouter)();return((0,a.useEffect)(()=>{i||r||c.replace("/")},[r,i,c]),i)?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"Loading..."})}):r?(0,s.jsx)(s.Fragment,{children:t}):null}function L(){return(0,s.jsx)(M.Q,{children:(0,s.jsx)(C,{children:(0,s.jsx)(_,{})})})}},7191:(e,t,r)=>{"use strict";var s=r(914),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,l=s.useEffect,i=s.useLayoutEffect,c=s.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,d=s[1];return i(function(){a.value=r,a.getSnapshot=t,o(a)&&d({inst:a})},[e,r,t]),l(function(){return o(a)&&d({inst:a}),e(function(){o(a)&&d({inst:a})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},8269:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(907).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[819,597,417,357,273,679,217,358],()=>t(1231)),_N_E=e.O()}]);